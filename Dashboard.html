<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header class="container">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <a href="index.html" style="text-decoration: none; color: #000;"><h4 class="mb-0 me-5">InvestSmart</h4></a>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item ms-5"><a class="nav-link" href="Consultantion.html">Consultantion</a></li>
                        <li class="nav-item"><a class="nav-link" href="Dashboard.html">Dashboard</a></li>
                    </ul>
                <div class="d-flex"><a href="Register.html" class="btn btn-dark">Register</a></div> 
                </div>
            </div>
        </nav>
    </header>
    <main class="container">
        <section class="mt-5 mb-5">
            <h2 class="text-center mb-5">Dashboard</h2>
            <div class="row justify-content-center g-4">
                <div class="col-lg-2 col-md-3 col-6">
                    <div class="alert alert-light text-center p-4 h-100">
                        <h3>Income</h3>
                        <p class="card-text fs-4" id="incomeCounter">0</p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-6">
                    <div class="alert alert-light text-center p-4 h-100">
                        <h3>Expenses</h3>
                        <p class="card-text fs-4" id="expenseCounter">0</p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-6">
                    <div class="alert alert-light text-center p-4 h-100">
                        <h3>Savings</h3>
                        <p class="card-text fs-4" id="savingCounter">0</p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-6">
                    <div class="alert alert-light text-center p-4 h-100">
                        <h3>Investments</h3>
                        <p class="card-text fs-4" id="investmentCounter">0</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="mt-5 mb-5">
            <div class="row">
                <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                    Income
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addIncomeModal">Add</button>
                    </div>
                    <div class="card-body">
                    <table class="table table-bordered" id="incomeTable">
                        <thead><tr><th>Amount</th><th>Action</th></tr></thead>
                        <tbody></tbody>
                    </table>
                    </div>
                </div>
                </div>
                <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                    Expenses
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addExpenseModal">Add</button>
                    </div>
                    <div class="card-body">
                    <table class="table table-bordered" id="expenseTable">
                        <thead><tr><th>Amount</th><th>Action</th></tr></thead>
                        <tbody></tbody>
                    </table>
                    </div>
                </div>
                </div>
                <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                    Investment
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addInvestmentModal">Add</button>
                    </div>
                    <div class="card-body">
                    <table class="table table-bordered" id="investmentTable">
                        <thead><tr><th>Amount</th><th>Month</th><th>Action</th></tr></thead>
                        <tbody></tbody>
                    </table>
                    </div>
                </div>
                </div>
            </div>
        </section>

        <section class="mt-5 mb-5">
            <h2 class="text-center mb-5">Investment Per Month</h2>
            <div class="card">
                <div class="card-body">
                <canvas id="investmentChart" height="100"></canvas>
                </div>
            </div>

            <div class="modal fade" id="addIncomeModal" tabindex="-1" aria-labelledby="addIncomeModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    <h5 class="modal-title" id="addIncomeModalLabel">Add Income</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                    <input type="number" id="incomeAmount" class="form-control" placeholder="Amount">
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="addIncome()">Add</button>
                    </div>
                </div>
                </div>
            </div>

            <div class="modal fade" id="addExpenseModal" tabindex="-1" aria-labelledby="addExpenseModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    <h5 class="modal-title" id="addExpenseModalLabel">Add Expense</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                    <input type="number" id="expenseAmount" class="form-control" placeholder="Amount">
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="addExpense()">Add</button>
                    </div>
                </div>
                </div>
            </div>

            <div class="modal fade" id="addInvestmentModal" tabindex="-1" aria-labelledby="addInvestmentModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    <h5 class="modal-title" id="addInvestmentModalLabel">Add Investment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                    <input type="number" id="investmentAmount" class="form-control mb-3" placeholder="Amount">
                    <select id="investmentMonth" class="form-select">
                        <option value="Jan">Jan</option>
                        <option value="Feb">Feb</option>
                        <option value="Mar">Mar</option>
                        <option value="Apr">Apr</option>
                        <option value="May">May</option>
                        <option value="Jun">Jun</option>
                        <option value="Jul">Jul</option>
                        <option value="Aug">Aug</option>
                        <option value="Sep">Sep</option>
                        <option value="Oct">Oct</option>
                        <option value="Nov">Nov</option>
                        <option value="Dec">Dec</option>
                    </select>
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="addInvestment()">Add</button>
                    </div>
                </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="container py-3">
        <div class="d-flex justify-content-between align-items-center">
            <a href="index.html" style="text-decoration: none; color: #000;"><h3 class="mb-0">InvestSmart</h3></a>

            <div class="d-flex gap-3">
                <a href="https://www.youtube.com" style="text-decoration: none; color: #000;"><i class="fa-brands fa-youtube fs-4"></i></a>
                <a href="https://www.facebook.com" style="text-decoration: none; color: #000;"><i class="fa-brands fa-facebook fs-4"></i></a>
                <a href="https://www.github.com" style="text-decoration: none; color: #000;"><i class="fa-brands fa-github fs-4"></i></a>
                <a href="https://www.linkedin.com" style="text-decoration: none; color: #000;"><i class="fa-brands fa-linkedin fs-4"></i></a>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <script>
        // Data storage
        let incomeList = [];
        let expenseList = [];
        let investmentList = [];
        // Counter update
        function updateCounters() {
        document.getElementById('incomeCounter').textContent = incomeList.reduce((a, b) => a + b, 0);
        document.getElementById('expenseCounter').textContent = expenseList.reduce((a, b) => a + b, 0);
        document.getElementById('investmentCounter').textContent = investmentList.reduce((a, b) => a.amount + b.amount, 0);
        }
        // Table update
        function updateTables() {
        // Income
        const incomeTbody = document.querySelector('#incomeTable tbody');
        incomeTbody.innerHTML = '';
        incomeList.forEach((amt, idx) => {
            incomeTbody.innerHTML += `<tr><td>${amt}</td><td><button class='btn btn-sm btn-danger' onclick='deleteIncome(${idx})'>Delete</button></td></tr>`;
        });
        // Expense
        const expenseTbody = document.querySelector('#expenseTable tbody');
        expenseTbody.innerHTML = '';
        expenseList.forEach((amt, idx) => {
            expenseTbody.innerHTML += `<tr><td>${amt}</td><td><button class='btn btn-sm btn-danger' onclick='deleteExpense(${idx})'>Delete</button></td></tr>`;
        });
        // Investment
        const investmentTbody = document.querySelector('#investmentTable tbody');
        investmentTbody.innerHTML = '';
        investmentList.forEach((inv, idx) => {
            investmentTbody.innerHTML += `<tr><td>${inv.amount}</td><td>${inv.month}</td><td><button class='btn btn-sm btn-danger' onclick='deleteInvestment(${idx})'>Delete</button></td></tr>`;
        });
        }
        // Chart update
        let investmentChart;
        function updateInvestmentChart() {
        const months = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
        const data = months.map(m => investmentList.filter(inv => inv.month === m).reduce((a, b) => a + b.amount, 0));
        if (investmentChart) investmentChart.destroy();
        const ctx = document.getElementById('investmentChart').getContext('2d');
        investmentChart = new Chart(ctx, {
            type: 'bar',
            data: {
            labels: months,
            datasets: [{
                label: 'Investment',
                data: data,
                backgroundColor: '#0d6efd'
            }]
            },
            options: {
            responsive: true,
            plugins: {
                legend: { display: false },
                title: { display: true, text: 'Investment Per Month' }
            }
            }
        });
        }
        // Add operations
        function addIncome() {
        const amt = parseFloat(document.getElementById('incomeAmount').value);
        if (!isNaN(amt) && amt > 0) {
            incomeList.push(amt);
            updateCounters();
            updateTables();
            document.getElementById('incomeAmount').value = '';
            bootstrap.Modal.getInstance(document.getElementById('addIncomeModal')).hide();
        }
        }
        function addExpense() {
        const amt = parseFloat(document.getElementById('expenseAmount').value);
        if (!isNaN(amt) && amt > 0) {
            expenseList.push(amt);
            updateCounters();
            updateTables();
            document.getElementById('expenseAmount').value = '';
            bootstrap.Modal.getInstance(document.getElementById('addExpenseModal')).hide();
        }
        }
        function addInvestment() {
        const amt = parseFloat(document.getElementById('investmentAmount').value);
        const month = document.getElementById('investmentMonth').value;
        if (!isNaN(amt) && amt > 0 && month) {
            investmentList.push({ amount: amt, month });
            updateCounters();
            updateTables();
            updateInvestmentChart();
            document.getElementById('investmentAmount').value = '';
            bootstrap.Modal.getInstance(document.getElementById('addInvestmentModal')).hide();
        }
        }
        // Delete operations
        function deleteIncome(idx) {
        incomeList.splice(idx, 1);
        updateCounters();
        updateTables();
        }
        function deleteExpense(idx) {
        expenseList.splice(idx, 1);
        updateCounters();
        updateTables();
        }
        function deleteInvestment(idx) {
        investmentList.splice(idx, 1);
        updateCounters();
        updateTables();
        updateInvestmentChart();
        }
        // Initial render
        updateCounters();
        updateTables();
        updateInvestmentChart();
    </script>
</body>
</html>
